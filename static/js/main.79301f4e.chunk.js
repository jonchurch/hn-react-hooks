(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(t,e){},115:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(66),n(55)),l=n(56),s=n(74),m=n(57),u=n(75),p=n(5),d=n(119),f=n(120),g=n(116),h=n(6),v=n(72),x=n(117),E=n(58),b=n.n(E);function w(){var t=Object(p.a)(["\n\tbackground-color: #ff6600;\n\tposition: fixed;\n\tz-index: 999;\n\theight: 55px;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\n\t.inner {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: flex-start;\n\t\tmax-width: 800px;\n\t\tbox-sizing: border-box;\n\t\tmargin: 0px auto;\n\t\tpadding: 15px 5px;\n\t}\n\t.logo {\n\t\twidth: 24px;\n\t\tdisplay: inline-block;\n\t\tvertical-align: middle;\n\t}\n\ta {\n\t\tcolor: white;\n\t\tfont-weight: 300;\n\t\tline-height: 24px;\n\t\tletter-spacing: .075em;\n\t\tvertical-align: middle;\n\t\tmargin-right: 1.8em;\n\t}\n\t.active {\n\t\tfont-weight: 600;\n\t}\n\t@media (max-width: 600px) {\n\t\t.inner {\n\t\t\tpadding: 15px;\n\t\t}\n\t\ta {\n\t\t\tmargin-right: 1em;\n\t\t}\n\t}\n"]);return w=function(){return t},t}var A=h.a.header(w());function k(){return r.a.createElement(A,null,r.a.createElement("nav",{className:"inner"},r.a.createElement(v.a,{to:"/"},r.a.createElement("img",{src:b.a,alt:"Hacker News Logo",className:"logo"})),r.a.createElement(x.a,{exact:!0,to:"/",activeClassName:"active"},"Top"),r.a.createElement(x.a,{to:"/new",activeClassName:"active"},"New"),r.a.createElement(x.a,{to:"/show",activeClassName:"active"},"Show"),r.a.createElement(x.a,{to:"/ask",activeClassName:"active"},"Ask"),r.a.createElement(x.a,{to:"/jobs",activeClassName:"active"},"Jobs")))}var j=n(9),N=n(118),y=n(36),O=n.n(y),C=n(73),D=n(37),M=n.n(D);n(84);M.a.initializeApp({databaseURL:"https://hacker-news.firebaseio.com"});var B=M.a.database().ref("/v0");function S(t){return B.child("item/"+t)}function Z(t){var e=Object(a.useState)({}),n=Object(j.a)(e,2),r=n[0],o=n[1];return Object(a.useEffect)(function(){var e=S(t);return e.on("value",function(t){null!==t.val()&&o(t.val())}),function(){e.off()}},[t]),r}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=function(t){switch(t){case"new":return"newstories";case"show":return"showstories";case"ask":return"askstories";case"jobs":return"jobstories";case"best":return"beststories";case"top":default:return"topstories"}}(t),r=Object(a.useState)({}),o=Object(j.a)(r,2),c=o[0],i=o[1],l=Object(a.useState)(1),s=Object(j.a)(l,2),m=s[0],u=s[1],p=40*(e-1),d=p+40;return Object(a.useEffect)(function(){var t,e=(t=n,B.child(t));return e.on("value",function(t){var e=t.val(),n=e.slice(p,d);console.log("LIST LENGTH:",t.val().length),i(n),u(Math.ceil(e.length/40))}),function(){e.off()}},[t,e]),[c,m]}function H(t){var e=t.replace(/^https?:\/\//,"").replace(/\/.*$/,"").split(".").slice(-3);return"www"===e[0]&&e.shift(),e.join(".")}function L(t){var e=Date.now()/1e3-Number(t);return e<60?"a moment ago":e<3600?P(~~(e/60)," minute"):e<86400?P(~~(e/3600)," hour"):P(~~(e/86400)," day")}function P(t,e){return 1===t?t+e:t+e+"s"}function G(){var t=Object(p.a)(["\n\tbackground-color: #fff;\n\tpadding: 20px 30px 20px 80px;\n\tline-height: 20px;\n\tposition: relative;\n\tborder-bottom: 1px solid #eee\n\n\t.score {\n\t\tcolor: #f60;\n\t\tposition: absolute;\n\t\tfont-size: 1.1em;\n\t\tfont-weight: 700;\n\t\ttop: 50%;\n\t\tleft: 0;\n\t\twidth: 80px;\n\t\tmargin-top: -10px;\n\t\ttext-align: center;\n\t\t}\n\t.meta, .host {\n\t\tfont-size: .85em;\n\t\tcolor: #828282;\n\t\ta {\n\t\t\tcolor: #828282;\n\t\t\ttext-decoration: underline;\n\t\t\t&:hover {\n\t\t\t\tcolor: #ff6600\n\t\t\t}\n\t\t}\n\t}\n"]);return G=function(){return t},t}var I=h.a.div(G());function R(t){var e=Z(t.id);return r.a.createElement(I,null,r.a.createElement("span",{className:"score"},e.score),r.a.createElement("span",{className:"title"},r.a.createElement("a",{href:e.url},e.title),e.url?r.a.createElement("span",{className:"host"}," (".concat(H(e.url),")")):null),r.a.createElement("br",null),r.a.createElement("span",{className:"meta"},"by ",e.by," ",L(e.time)," |",r.a.createElement(v.a,{to:"/item/".concat(e.id)},e.descendants?"".concat(e.descendants," comments"):"discuss")))}function F(){var t=Object(p.a)(["\n\tposition: relative;\n\t\n\t.list-nav {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 2px;\n\t\tpadding: 15px 30px;\n\t\tposition: fixed;\n\t\ttext-align: center;\n\t\ttop: 55px;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 998\n\t\tbox-shadow: 0 1px 2px rgba(0,0,0,.1);\n\n\t\ta {\n\t\t\tmargin: 0 1em;\n\t\t}\n\t}\n\n\t.list {\n\t\tpadding-top: 100px;\n\t\tposition: absolute;\n\t\tmargin: 30px 0\n\t}\n\t@media (max-width: 600px) {\n\t\t.list {\n\t\t\tmargin: 10px 0\n\t\t}\n\t}\n\t.disabled {\n\t\tpointer-events: none;\n\t\tcolor: #d3d3d3;\n\t}\n"]);return F=function(){return t},t}var T=h.a.div(F()),W=function(t){var e=t.filter,n=t.page,a=t.maxPages;return r.a.createElement("div",{className:"list-nav"},r.a.createElement(v.a,{to:"/".concat(e,"/").concat(n-1),className:n<=1?"disabled":null},"< prev"),r.a.createElement("span",null,n,"/",a),r.a.createElement(v.a,{to:"/".concat(e,"/").concat(Number(n)+1),className:n>=a?"disabled":null},"next >"))},Q=function(t){var e=function(){var t=Object(a.useState)([]),e=Object(j.a)(t,2),n=e[0],r=e[1];return new RegExp(/^Ask HN: Freelancer\?/),new RegExp(/^Ask HN: Who is hiring\?/),new RegExp(/^Ask HN: Who wants to be hired\?/),Object(a.useEffect)(Object(C.a)(O.a.mark(function t(){var e,n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch("https://hn.algolia.com/api/v1/search_by_date?tags=story,author_whoishiring").then(function(t){return t.json()});case 2:e=t.sent,console.log({res:e}),n=e.hits.slice(0,3),r(n);case 6:case"end":return t.stop()}},t,this)})),[]),n}();return r.a.createElement("div",{className:"list-nav"},r.a.createElement("ul",null,e.map(function(t){var e=t.objectID,n=t.title;return r.a.createElement("li",{key:e,style:{textAlign:"left"}},r.a.createElement(v.a,{to:"/item/".concat(e)},n))})))};function U(t){t.history;var e=t.match;console.log({match:e});var n=new RegExp(/^\/(\w+)/),a=n.test(e.url)?n.exec(e.url)[1]:"top",o=e.params.page||1,c=z(a,o),i=Object(j.a)(c,2),l=i[0],s=i[1];return o>s||o<1?r.a.createElement(N.a,{to:"/".concat(a)}):r.a.createElement(T,{style:{position:"relative"}},s>1?r.a.createElement(W,{filter:a,page:o,maxPages:s}):r.a.createElement(Q,null),r.a.createElement("div",{className:"list"},l.length&&l.map(function(t){return r.a.createElement(R,{id:t,key:t})})))}var Y=n(25),V=n.n(Y);function J(){var t=Object(p.a)(["\n\t","\n\tmargin-left: 1.5em;\n"]);return J=function(){return t},t}function q(){var t=Object(p.a)(["\n  background-color: #fff;\n  border-top: 1px solid #eee;\n  position: relative;\n  .by, .text, .toggle {\n    font-size: .9em;\n\tmargin: 1em 0;\n  }\n  .by {\n    color: #828282;\n\ta {\n      color: #828282;\n      text-decoration: underline;\n\t}\n  }\n  .text {\n\toverflow-wrap: break-word;\n\tword-wrap: break-word;\n\ta:hover {\n      color: #ff6600;\n\t}\n\tpre {\n\t  white-space: pre-wrap;\n\t}\n  }\n  .toggle {\n\tbackground-color: #fffbf2;\n\tpadding: .3em .5em;\n\tborder-radius: 4px;\n\t&.open {\n\t\tbackground-color: transparent;\n\t}\n  }\n"]);return q=function(){return t},t}var K=h.a.div(q()),X=h.a.div(J(),function(t){return t.open?null:"display: none;"});function _(t){var e=t.open,n=t.onClick,a=t.kidCount;return r.a.createElement("span",{className:"toggle ".concat(e?"open":null),onClick:n},e?"[-]":"[+".concat(a+1,"]"))}function $(t){var e=Z(t.id),n=e.by,o=e.time,c=e.text,i=e.kids,l=void 0===i?[]:i,s=e.deleted,m=e.dead,u=Object(a.useState)(!0),p=Object(j.a)(u,2),d=p[0],f=p[1];return s?(l.length&&console.log("Deleted has children!"),r.a.createElement(K,null,r.a.createElement("div",{className:"by"},"[deleted]"))):m?(l.length&&console.log("Dead has children!"),null):r.a.createElement(K,null,r.a.createElement("div",{className:"by toggle ".concat(d?"open":null)},n,o&&L(o)," ago",r.a.createElement(_,{open:d,onClick:function(){f(!d)},kidCount:l.length})),r.a.createElement(X,{open:d},r.a.createElement("div",{className:"text"},c&&V()(c)),l.length?l.map(function(t){return r.a.createElement($,{key:t,id:t})}):null))}function tt(){var t=Object(p.a)(["\n\tbackground-color: #fff;\n\tmargin-top: 10px;\n\tpadding: 0 2em .5em;\n\n\t.comments-header {\n\t\tmargin: 0;\n\t\tfont-size: 1.1em;\n\t\tpadding: 1em 0;\n\t\tposition: relative;\n\t}\n\n"]);return tt=function(){return t},t}function et(){var t=Object(p.a)(["\n  background-color: #fff;\n  padding: 1.8em 2em 1em;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n\tpadding-top: 55px;\n\tposition: relative;\n\tmargin: 30px 0;\n\n  a {\n\tcolor: #34495e;\n  }\n  h1 {\n    display: inline;\n    font-size: 1.5em;\n    margin: 0;\n    margin-right: .5em;\n  }\n  .host, .meta, .meta a {\n    color: #828282;\n  }\n  .meta a {\n\ttext-decoration: underline;\n\t}\n  @media (max-width: 600px) {\n\tmargin: 10px 0;\n\tpadding-top: 75px\n\th1 {\n\t font-size: 1.25em;\n\t}\n  }\n"]);return et=function(){return t},t}var nt=h.a.div(et()),at=h.a.div(tt());function rt(t){var e=t.url,n=t.title;return console.log(e),r.a.createElement("span",null,r.a.createElement("a",{href:e},r.a.createElement("h1",null,n)),r.a.createElement("a",{className:"host",href:e},"(",H(e),")"))}function ot(t){var e=Z(t.match.params.id),n=e.title,a=e.by,o=e.url,c=e.score,i=e.time,l=e.text,s=e.kids,m=void 0===s?[]:s,u=e.descendants;return r.a.createElement("div",null,r.a.createElement(nt,null,o?r.a.createElement(rt,{url:o,title:n}):r.a.createElement("h1",null,n),r.a.createElement("p",{className:"meta"},c&&c," points | by ",a&&a," ",i&&L(i)," ago"),l?r.a.createElement("div",{className:"ask-text"},V()(l)):null),r.a.createElement(at,null,r.a.createElement("div",{className:"comments-header"},u&&u>0?"".concat(u," comments"):"No comments"),m.length?m.map(function(t){return r.a.createElement($,{key:t,id:t})}):null))}function ct(t){return r.a.createElement(U,{match:t.match})}function it(){var t=Object(p.a)(["\n\tmax-width: 800px;\n\tmargin: 0 auto;\n\tposition: relative;\n"]);return it=function(){return t},t}var lt=function(){return r.a.createElement("h1",null,"404")},st=h.a.div(it()),mt=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(k,null),r.a.createElement(st,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(U,Object.assign({},t,{filter:"top"}))}}),r.a.createElement(g.a,{exact:!0,path:"/top",component:U}),r.a.createElement(g.a,{path:"/top/:page",component:U}),r.a.createElement(g.a,{exact:!0,path:"/new",component:U}),r.a.createElement(g.a,{path:"/new/:page",component:U}),r.a.createElement(g.a,{exact:!0,path:"/show",component:U}),r.a.createElement(g.a,{path:"/show/:page",component:U}),r.a.createElement(g.a,{exact:!0,path:"/ask",component:U}),r.a.createElement(g.a,{path:"/ask/:page",component:U}),r.a.createElement(g.a,{exact:!0,path:"/jobs",component:ct}),r.a.createElement(g.a,{path:"/jobs/:page",component:U}),r.a.createElement(g.a,{exact:!0,path:"/item/:id",component:ot}),r.a.createElement(g.a,{component:lt})))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},58:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAiRJREFUSA1j/A8EDAMAmAbATrCVLDCLP6Qawpg0pQVmnwebP2A+HjCL4UGNLXyZxEUYGIUlwVL/3z5n+PfyDTZlCDE2ZgZmFS0I//8/hr/XryLk0Fh4LWZgZmbgzV/AwMDExPDvwyuGT9VeDAy//qIZgeCye8YxcPrkgQW+75qN12K8Qf3v2UuG7/uAFgMBk4AYA5tHDJiNjWAU4mPg8MgES/37/Jbh56ZZ2JTBxfBaDFL1a+MMhn9f3oM1cHpkMTAK8sE1IzM4wioZGFlYwULfljcwMPz8gyyNwSZo8f8fvxm+rWgCa2RkZWPgCC/HMIRZVY2B3dgDLP779mmGP6ePYKhBFyBoMUjDn5MHGH7fg+Q/dmMvYAJSQZjDxMjAGQ1xGMO/fwzfF9cg5PCwiLIYpB9sILR05YwCWsTICDaW1dqdgUVaHcwGpYd/z1+B2YQIoi3+9+QZw48Di8HmschqMrBauzIwcrAxcAZDgv7f53cMP4HpgVhAtMUgA3+un8rw7+sHsNmcwZUMHJFlDEzcAmD+t5XAUACmB2IBSRb///6L4fvqVrDZTDwCDOxWwWD277vngOngILF2QvSTpBqo+PexvQx/HlxGaAPG+/fF1Qg+kSySfAw2E2TRuk648T/PbGH49/QFnE8sg3SLgSb///oRbv5/YKIiB5BlMTkWoesZtRg9RGjGH3lBjb8FgiOg/z16wkBpq3TkBfWA+ZhxxPWdACF6m6mcsEGuAAAAAElFTkSuQmCC"},61:function(t,e,n){t.exports=n(115)},66:function(t,e,n){},99:function(t,e){}},[[61,2,1]]]);
//# sourceMappingURL=main.79301f4e.chunk.js.map