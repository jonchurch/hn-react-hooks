{"version":3,"sources":["components/Header.jsx","firebase/index.js","hooks/index.js","helpers.js","components/NewsCard.jsx","components/Home.jsx","components/Comment.jsx","components/Item.jsx","components/Jobs.jsx","App.js","serviceWorker.js","index.js","logo.png"],"names":["StyledHeader","styled","header","_templateObject","Header","react_default","a","createElement","className","Link","to","src","Logo","alt","NavLink","exact","activeClassName","firebase","initializeApp","databaseURL","api","database","ref","itemRef","id","child","useItemSubscription","_useState","useState","_useState2","Object","slicedToArray","story","setStory","useEffect","on","snapshot","val","off","useTopStories","filter","page","arguments","length","undefined","refPath","path","storyFilter","_useState3","_useState4","stories","setStories","start","end","console","log","ids","slice","host","url","parts","replace","split","shift","join","timeAgo","time","between","Date","now","Number","pluralize","label","StyledItemCard","div","NewsCard_templateObject","NewsCard","_ref","score","href","title","concat","by","descendants","Container","Home_templateObject","Home","match","pathReg","RegExp","test","exec","params","style","position","es","flipKey","map","key","flipId","toString","CommentContainer","Comment_templateObject","CommentChildren","_templateObject2","props","open","Toggle","onClick","kidCount","Comment","_ref2","_useItemSubscription","text","_useItemSubscription$","kids","deleted","dead","showComments","setShowComments","renderHTML","ItemHeader","Item_templateObject","ItemComments","Item_templateObject2","LinkTitle","Item","Jobs","NotFound","ContentView","App_templateObject","App","HashRouter","Switch","Route","render","assign","component","Component","Boolean","window","location","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.4cb3defa.chunk.js","sourcesContent":["import React from 'react'\nimport { NavLink, Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport Logo from '../logo.png'\n\nconst StyledHeader = styled.header`\n\tbackground-color: #ff6600;\n\tposition: fixed;\n\tz-index: 999;\n\theight: 55px;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\n\t.inner {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: flex-start;\n\t\tmax-width: 800px;\n\t\tbox-sizing: border-box;\n\t\tmargin: 0px auto;\n\t\tpadding: 15px 5px;\n\t}\n\t.logo {\n\t\twidth: 24px;\n\t\tdisplay: inline-block;\n\t\tvertical-align: middle;\n\t}\n\ta {\n\t\tcolor: white;\n\t\tfont-weight: 300;\n\t\tline-height: 24px;\n\t\tletter-spacing: .075em;\n\t\tvertical-align: middle;\n\t\tmargin-right: 1.8em;\n\t}\n\t.active {\n\t\tfont-weight: 600;\n\t}\n\t@media (max-width: 600px) {\n\t\t.inner {\n\t\t\tpadding: 15px;\n\t\t}\n\t\ta {\n\t\t\tmargin-right: 1em;\n\t\t}\n\t}\n`\n\nexport default function Header() {\n\treturn (\n\t\t<StyledHeader>\n\t\t\t<nav className=\"inner\" >\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<img src={Logo} alt=\"Hacker News Logo\" className=\"logo\"/>\n\t\t\t\t</Link>\n\t\t\t\t<NavLink exact to=\"/\" activeClassName=\"active\">Top</NavLink>\n\t\t\t\t<NavLink to=\"/new\" activeClassName=\"active\">New</NavLink>\n\t\t\t\t<NavLink to=\"/show\" activeClassName=\"active\">Show</NavLink>\n\t\t\t\t<NavLink to=\"/ask\" activeClassName=\"active\">Ask</NavLink>\n\t\t\t\t<NavLink to=\"/jobs\" activeClassName=\"active\">Jobs</NavLink>\n\t\t</nav>\n\t\t</StyledHeader>\n\t)\n}\n\n","import firebase from 'firebase/app'\nimport 'firebase/database'\n\nconst config = {\n\tdatabaseURL: \"https://hacker-news.firebaseio.com\"\n}\nconst version = \"/v0\"\n// const PAGE_LIMIT = 30\n\n\nfirebase.initializeApp(config)\nconst api = firebase.database().ref(version)\n\nexport function fetchItem(id, cb) {\n\titemRef(id).once('value', snapshot => cb(snapshot.val()))\n}\n\nexport function fetchItems(ids, cb) {\n\tlet items = []\n\tlet unsuccessful = 0\n\tids.forEach(id => {\n\t\tfetchItem(id, item => {\n\t\t\tif (item !== null) {\n\t\t\t\titems.push(item)\n\t\t\t} else {\n\t\t\t\tunsuccessful++\n\t\t\t}\n\t\t\tif (items.length >= ids.length - unsuccessful) {\n\t\t\t\tcb(items)\n\t\t\t}\n\t\t})\n\t})\n}\n\n\nexport function storiesRef(path) { return api.child(path) }\n\nexport function itemRef(id) { return api.child('item/' + id)}\n\n\n","import { useState, useEffect } from 'react'\nimport { itemRef, storiesRef } from '../firebase'\n\nexport function useItemSubscription(id) {\n\tconst [story, setStory] = useState({})\n\n\tuseEffect(() => {\n\t\tconst ref = itemRef(id)\n\t\tref.on('value', snapshot => {\n\t\t\t// console.log('snapshot val:',snapshot.val())\n\t\t\tconst val = snapshot.val()\n\t\t\tif (val !== null) {\n\t\t\t\tsetStory(snapshot.val())\n\t\t\t}\n\t\t})\n\t\treturn () => {\n\t\t\tref.off()\n\t\t}\n\t}, [id])\n\treturn story\n}\n\nexport function useTopStories(filter, page = 1) {\n\tconst refPath = storyFilter(filter)\n\tconst [stories, setStories] = useState({})\n\tconst maxPerPage = 20\n\tconst start = maxPerPage * (page - 1)\n\tconst end = start + maxPerPage\n\tconsole.log({start,end})\n\tuseEffect(() => {\n\t\tconst ref = storiesRef(refPath)\n\t\tref.on('value', snapshot => {\n\t\t\tconst ids = snapshot.val().slice(start, end)\n\t\t\tsetStories(ids)\n\t\t})\n\t\treturn () => {\n\t\t\tref.off()\n\t\t}\n\t}, [filter, page])\n\treturn stories\n}\nfunction storyFilter(path) {\n\tswitch (path) {\n\t\tcase \"new\":\n\t\t\treturn \"newstories\"\n\t\tcase \"show\":\n\t\t\treturn \"showstories\"\n\t\tcase \"ask\":\n\t\t\treturn \"askstories\"\n\t\tcase \"jobs\":\n\t\t\treturn \"jobstories\"\n\t\tcase \"best\":\n\t\t\treturn \"beststories\"\n\t\tcase \"top\":\n\t\tdefault:\n\t\t\treturn \"topstories\"\n\t}\n}\n","export function host (url) {\n  const host = url.replace(/^https?:\\/\\//, '').replace(/\\/.*$/, '')\n  const parts = host.split('.').slice(-3)\n  if (parts[0] === 'www') parts.shift()\n  return parts.join('.')\n}\nexport function timeAgo (time) {\n  const between = Date.now() / 1000 - Number(time)\n  if (between < 60) {\n\t\treturn \"a moment ago\"\n  } else if (between < 3600) {\n    return pluralize(~~(between / 60), ' minute')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' hour')\n  } else {\n    return pluralize(~~(between / 86400), ' day')\n  }\n}\n\nfunction pluralize (time, label) {\n  if (time === 1) {\n    return time + label\n  }\n  return time + label + 's'\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nimport { host, timeAgo } from '../helpers'\nimport { useItemSubscription } from '../hooks'\n\nconst StyledItemCard = styled.div`\n\tbackground-color: #fff;\n\tpadding: 20px 30px 20px 80px;\n\tline-height: 20px;\n\tposition: relative;\n\tborder-bottom: 1px solid #eee\n\n\t.score {\n\t\tcolor: #f60;\n\t\tposition: absolute;\n\t\tfont-size: 1.1em;\n\t\tfont-weight: 700;\n\t\ttop: 50%;\n\t\tleft: 0;\n\t\twidth: 80px;\n\t\tmargin-top: -10px;\n\t\ttext-align: center;\n\t\t}\n\t.meta, .host {\n\t\tfont-size: .85em;\n\t\tcolor: #828282;\n\t\ta {\n\t\t\tcolor: #828282;\n\t\t\ttext-decoration: underline;\n\t\t\t&:hover {\n\t\t\t\tcolor: #ff6600\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport default function NewsCard({id}) {\n\tconst story = useItemSubscription(id)\n\treturn (\n\t\t<StyledItemCard>\n\t\t\t<span className=\"score\">\n\t\t\t{story.score}\n\t\t\t</span>\n\t\t\t<span className=\"title\">\n\t\t\t\t\t<a \n\t\t\t\t\t\thref={story.url}\n\t\t\t\t\t>{story.title}</a>\n\t\t\t\t\t{story.url ? <span className=\"host\">{` (${host(story.url)})`}</span> : null }\n\t\t\t\t</span>\n\t\t\t\t<br />\n\t\t\t\t<span className=\"meta\">\n\t\t\t\t\tby {story.by} {timeAgo(story.time)} | \n\t\t\t\t\t<Link to={`/item/${story.id}`}>{story.descendants ? `${story.descendants} comments`: \"discuss\"}</Link>\n\t\t\t</span>\n\t\t</StyledItemCard>\n\t)\n}\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Flipper, Flipped } from 'react-flip-toolkit'\nimport styled from 'styled-components'\n\nimport { useTopStories } from '../hooks'\nimport NewsCard from './NewsCard.jsx'\n\nconst Container = styled.div`\n\tposition: relative;\n\t\n\t.list-nav {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 2px;\n\t\tpadding: 15px 30px;\n\t\tposition: fixed;\n\t\ttext-align: center;\n\t\ttop: 55px;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 998\n\t\tbox-shadow: 0 1px 2px rgba(0,0,0,.1);\n\n\t\ta {\n\t\t\tmargin: 0 1em;\n\t\t}\n\t}\n\n\t.list {\n\t\tpadding-top: 100px;\n\t\tposition: absolute;\n\t\tmargin: 30px 0\n\t}\n\t@media (max-width: 600px) {\n\t\t.list {\n\t\t\tmargin: 10px 0\n\t\t}\n\t}\n\t.disabled {\n\t\tpointer-events: none;\n\t\tcolor: #d3d3d3;\n\t}\n`\n\nexport default function Home({match}) {\n\tconst pathReg = new RegExp(/^\\/(\\w+)/)\n\t// lol this is a lil gross\n\tconst filter = pathReg.test(match.url) ? pathReg.exec(match.url)[1] : \"top\"\n\tconst page = match.params.page || 1\n\tconst stories = useTopStories(filter, page)\n\treturn (\n\t\t<Container style={{position: \"relative\"}}>\n\t\t\t<div className=\"list-nav\">\n\t\t\t\t<Link \n\t\t\t\t\tto={`/${filter}/${page - 1}`}\n\t\t\t\t\tclassName={page <= 1 ? \"disabled\" : null}\n\t\t\t\t>&lt; prev</Link>\n\t\t\t<span>\n\t\t\t\t{page}/24\n\t\t\t</span>\n\t\t\t<Link to={`/${filter}/${Number(page) + 1}`}>next &gt;</Link>\n\t\t\t</div>\n\t\t<Flipper flipKey={filter}>\n\t\t<div className=\"list\">\n\t\t\t{\n\t\t\t\tstories.length > 0 && \n\t\t\t\tstories.map(id => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Flipped key={id} flipId={id.toString()}>\n\t\t\t\t\t\t<NewsCard id={id} />\n\t\t\t\t\t</Flipped>\n\t\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t</Flipper>\n</Container>\n\t)\t\n}\n","import React, { useState } from 'react'\nimport renderHTML from 'react-render-html'\nimport styled from 'styled-components'\n\nimport { timeAgo } from '../helpers'\nimport { useItemSubscription } from '../hooks'\n\nconst CommentContainer = styled.div`\n  background-color: #fff;\n  border-top: 1px solid #eee;\n  position: relative;\n  .by, .text, .toggle {\n    font-size: .9em;\n\tmargin: 1em 0;\n  }\n  .by {\n    color: #828282;\n\ta {\n      color: #828282;\n      text-decoration: underline;\n\t}\n  }\n  .text {\n\toverflow-wrap: break-word;\n\tword-wrap: break-word;\n\ta:hover {\n      color: #ff6600;\n\t}\n\tpre {\n\t  white-space: pre-wrap;\n\t}\n  }\n  .toggle {\n\tbackground-color: #fffbf2;\n\tpadding: .3em .5em;\n\tborder-radius: 4px;\n\t&.open {\n\t\tbackground-color: transparent;\n\t}\n  }\n`\nconst CommentChildren = styled.div`\n\t${props => props.open ? null : \"display: none;\"}\n\tmargin-left: 1.5em;\n`\n\nfunction Toggle({open, onClick, kidCount }) {\n\treturn (\n\t\t<span\n\t\t\tclassName={`toggle ${open ? \"open\" : null }`}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t{ open ? \"[-]\" : `[+${kidCount + 1}]` }\n\t\t</span>\n\t)\n}\n\n/*\n * Right now I think I'm running into issues where using hooks in my map is screwing something up\n * It might just be the conditional expression?\n * Nope! It was because I was calling the function? and not using a component?\n*/\nexport default function Comment({id}) {\n\tconst { by, time, text, kids = [], deleted, dead } = useItemSubscription(id)\n\tconst [showComments, setShowComments] = useState(true)\n\tfunction handleCommentToggle() {\n\t\tsetShowComments(!showComments)\n\t}\n\tif (deleted) {\n\t\tkids.length && console.log('Deleted has children!')\n\t\treturn (\n\t\t\t<CommentContainer>\n\t\t\t\t<div className=\"by\">[deleted]</div>\n\t\t\t</CommentContainer>\n\t\t)\n\t}\n\tif (dead) {\n\t\tkids.length && console.log('Dead has children!')\n\t\treturn (\n\t\t\tnull\n\t\t)\n\t}\n\treturn (\n\t\t<CommentContainer>\n\t\t\t<div className={`by toggle ${showComments ? \"open\" : null}`}>\n\t\t\t\t{by}\n\t\t\t\t{time && timeAgo(time)} ago\n\t\t\t\t<Toggle open={showComments} onClick={handleCommentToggle} kidCount={kids.length}/>\n\t\t\t</div>\n\t\t\t<CommentChildren open={showComments}>\n\t\t\t<div className=\"text\">\n\t\t\t{text && renderHTML(text)}\n\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tkids.length ? kids.map(id => <Comment key={id} id={id} />) : null\n\t\t\t\t}\n\t\t\t</CommentChildren>\n\t\t</CommentContainer>\n\t)\n}\n\n","import React from 'react'\nimport renderHTML from 'react-render-html'\nimport styled from 'styled-components'\n\nimport { timeAgo, host } from '../helpers'\nimport { useItemSubscription } from '../hooks'\nimport Comment from './Comment'\n\nconst ItemHeader = styled.div`\n  background-color: #fff;\n  padding: 1.8em 2em 1em;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n\tpadding-top: 55px;\n\tposition: relative;\n\tmargin: 30px 0;\n\n  a {\n\tcolor: #34495e;\n  }\n  h1 {\n    display: inline;\n    font-size: 1.5em;\n    margin: 0;\n    margin-right: .5em;\n  }\n  .host, .meta, .meta a {\n    color: #828282;\n  }\n  .meta a {\n\ttext-decoration: underline;\n\t}\n  @media (max-width: 600px) {\n\tmargin: 10px 0;\n\tpadding-top: 75px\n\th1 {\n\t font-size: 1.25em;\n\t}\n  }\n`\n\nconst ItemComments = styled.div`\n\tbackground-color: #fff;\n\tmargin-top: 10px;\n\tpadding: 0 2em .5em;\n\n\t.comments-header {\n\t\tmargin: 0;\n\t\tfont-size: 1.1em;\n\t\tpadding: 1em 0;\n\t\tposition: relative;\n\t}\n\n`\n\nfunction LinkTitle(props) {\n\tconst { url, title } = props\n\tconsole.log(url)\n\treturn (\n\t\t<span>\n\t\t<a href={url}>\n\t\t\t<h1>{title}</h1>\n\t\t</a>\n\t\t<a className=\"host\" href={url}>\n\t\t\t({host(url)})\n\t\t</a> \n\t</span>\n\t)\n}\n\nexport default function Item({match}) {\n\tconst id = match.params.id\n\tconst { title, by, url, score, time, text, kids = [], descendants} = useItemSubscription(id)\n\treturn (\n\t\t<div>\n\t\t\t<ItemHeader>\n\t\t\t\t{\n\t\t\t\t\turl ? <LinkTitle url={url} title={title} /> :\n\t\t\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t}\n\t\t\t\t<p className=\"meta\">\n\t\t\t\t\t{score && score} points | by {by && by} {time && timeAgo(time)} ago\n\t\t\t\t</p>\n\t\t\t\t{\n\t\t\t\t\ttext ?\n\t\t\t\t\t\t<div className=\"ask-text\">{renderHTML(text)}</div> : null\n\t\t\t\t}\n\t\t\t</ItemHeader>\n\t\t\t<ItemComments> \n\t\t\t\t<div className=\"comments-header\">\n\t\t\t\t\t{descendants && descendants > 0 ? `${descendants} comments` : \"No comments\"}\n\t\t\t\t</div>\n\t\t\t{\n\t\t\t\tkids.length ? \n\t\t\t\t\tkids.map(id => <Comment key={id} id={id} />) : null\n\t\t\t}\n\t\t</ItemComments>\n\t</div>\n\t)\n}\n","import React from 'react'\n\nimport Home from './Home'\n\nexport default function Jobs(props) {\n\treturn <Home match={props.match}/>\n}\n\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport Header from './components/Header'\nimport Home from './components/Home'\nimport Item from './components/Item'\nimport Jobs from './components/Jobs'\n// import './App.css';\n\nconst NotFound = () => <h1>404</h1>\n\nconst ContentView = styled.div`\n\tmax-width: 800px;\n\tmargin: 0 auto;\n\tposition: relative;\n`\nclass App extends Component {\n  render() {\n    return (\n\t\t<Router>\n\t\t\t<div className=\"App\">\n\t\t<Header />\n\t\t<ContentView>\n\t\t\t<Switch>\n\t\t\t<Route exact path=\"/\" render={props => <Home {...props} filter=\"top\" />} />\n\t\t\t<Route exact path=\"/top\" component={Home} />\n\t\t\t<Route path=\"/top/:page\" component={Home} />\n\t\t\t<Route exact path=\"/new\" component={Home} />\n\t\t\t<Route path=\"/new/:page\" component={Home} />\n\t\t\t<Route exact path=\"/show\" component={Home} />\n\t\t\t<Route path=\"/show/:page\" component={Home} />\n\t\t\t<Route exact path=\"/ask\" component={Home} />\n\t\t\t<Route path=\"/ask/:page\" component={Home} />\n\t\t{/* \n\t\t\tadded Jobs component because using the same component for all routes never triggered an \"unmount\" \n\t\t\t(well I think this is the issue)\n\t\t\tand so it was expecting 30 hooks, but the jobs listing only has like a dozen items,\n\t\t\tso it had fewer hooks than expected?\n\t\t*/}\n\t\t\t<Route exact path=\"/jobs\" component={Jobs} />\n\t\t\t<Route path=\"/jobs/:page\" component={Home} />\n\t\t\t<Route exact path=\"/item/:id\" component={Item} />\n\t\t\t<Route component={NotFound} />\n\t\t\t</Switch>\n\t\t</ContentView>\n\t\t\t</div>\n\t\t</Router>\n    );\n  }\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAiRJREFUSA1j/A8EDAMAmAbATrCVLDCLP6Qawpg0pQVmnwebP2A+HjCL4UGNLXyZxEUYGIUlwVL/3z5n+PfyDTZlCDE2ZgZmFS0I//8/hr/XryLk0Fh4LWZgZmbgzV/AwMDExPDvwyuGT9VeDAy//qIZgeCye8YxcPrkgQW+75qN12K8Qf3v2UuG7/uAFgMBk4AYA5tHDJiNjWAU4mPg8MgES/37/Jbh56ZZ2JTBxfBaDFL1a+MMhn9f3oM1cHpkMTAK8sE1IzM4wioZGFlYwULfljcwMPz8gyyNwSZo8f8fvxm+rWgCa2RkZWPgCC/HMIRZVY2B3dgDLP779mmGP6ePYKhBFyBoMUjDn5MHGH7fg+Q/dmMvYAJSQZjDxMjAGQ1xGMO/fwzfF9cg5PCwiLIYpB9sILR05YwCWsTICDaW1dqdgUVaHcwGpYd/z1+B2YQIoi3+9+QZw48Di8HmschqMrBauzIwcrAxcAZDgv7f53cMP4HpgVhAtMUgA3+un8rw7+sHsNmcwZUMHJFlDEzcAmD+t5XAUACmB2IBSRb///6L4fvqVrDZTDwCDOxWwWD277vngOngILF2QvSTpBqo+PexvQx/HlxGaAPG+/fF1Qg+kSySfAw2E2TRuk648T/PbGH49/QFnE8sg3SLgSb///oRbv5/YKIiB5BlMTkWoesZtRg9RGjGH3lBjb8FgiOg/z16wkBpq3TkBfWA+ZhxxPWdACF6m6mcsEGuAAAAAElFTkSuQmCC\""],"sourceRoot":""}