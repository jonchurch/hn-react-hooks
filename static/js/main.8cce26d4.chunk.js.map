{"version":3,"sources":["components/Header.jsx","firebase/index.js","hooks/index.js","helpers.js","components/NewsCard.jsx","components/Home.jsx","components/Comment.jsx","components/Item.jsx","components/Jobs.jsx","App.js","serviceWorker.js","index.js","logo.png"],"names":["StyledHeader","styled","header","_templateObject","Header","react_default","a","createElement","className","Link","to","process","src","Logo","alt","NavLink","exact","activeClassName","firebase","initializeApp","databaseURL","api","database","ref","itemRef","id","child","useItemSubscription","_useState","useState","_useState2","Object","slicedToArray","story","setStory","useEffect","on","snapshot","val","off","useTopStories","filter","_useState3","_useState4","stories","setStories","path","ids","slice","host","url","parts","replace","split","shift","join","timeAgo","time","between","Date","now","Number","pluralize","label","StyledItemCard","div","NewsCard_templateObject","NewsCard","key","score","href","title","concat","by","descendants","Home","_ref","storyFilter","match","substring","style","margin","length","map","CommentContainer","Comment_templateObject","CommentChildren","_templateObject2","props","open","Toggle","onClick","kidCount","Comment","_ref2","_useItemSubscription","text","_useItemSubscription$","kids","deleted","dead","showComments","setShowComments","console","log","renderHTML","ItemHeader","Item_templateObject","ItemComments","Item_templateObject2","LinkTitle","Item","params","Jobs","NotFound","ContentView","App_templateObject","App","BrowserRouter","Switch","Route","component","Component","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.8cce26d4.chunk.js","sourcesContent":["import React from 'react'\nimport { NavLink, Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport Logo from '../logo.png'\n\nconst StyledHeader = styled.header`\n\tbackground-color: #ff6600;\n\tz-index: 999;\n\theight: 55px;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\n\t.inner {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: flex-start;\n\t\tmax-width: 800px;\n\t\tbox-sizing: border-box;\n\t\tmargin: 0px auto;\n\t\tpadding: 15px 5px;\n\t}\n\t.logo {\n\t\twidth: 24px;\n\t\tdisplay: inline-block;\n\t\tvertical-align: middle;\n\t}\n\ta {\n\t\tcolor: white;\n\t\tfont-weight: 300;\n\t\tline-height: 24px;\n\t\tletter-spacing: .075em;\n\t\tvertical-align: middle;\n\t\tmargin-right: 1.8em;\n\t}\n\t.active {\n\t\tfont-weight: 600;\n\t}\n\t@media (max-width: 600px) {\n\t\t.inner {\n\t\t\tpadding: 15px;\n\t\t}\n\t\ta {\n\t\t\tmargin-right: 1em;\n\t\t}\n\t}\n`\n\nexport default function Header() {\n\treturn (\n\t\t<StyledHeader>\n\t\t\t<nav className=\"inner\" >\n                <Link to={process.env.PUBLIC_URL + \"/\"}>\n\t\t\t\t\t<img src={Logo} alt=\"Hacker News Logo\" className=\"logo\"/>\n\t\t\t\t</Link>\n\t\t\t\t<NavLink exact to={process.env.PUBLIC_URL + \"/\"} activeClassName=\"active\">Top</NavLink>\n\t\t\t\t<NavLink to={process.env.PUBLIC_URL + \"/new\"} activeClassName=\"active\">New</NavLink>\n\t\t\t\t<NavLink to={process.env.PUBLIC_URL + \"/show\"} activeClassName=\"active\">Show</NavLink>\n\t\t\t\t<NavLink to={process.env.PUBLIC_URL + \"/ask\"} activeClassName=\"active\">Ask</NavLink>\n\t\t\t\t<NavLink to={process.env.PUBLIC_URL + \"/jobs\"} activeClassName=\"active\">Jobs</NavLink>\n\t\t</nav>\n\t\t</StyledHeader>\n\t)\n}\n\n","import firebase from 'firebase/app'\nimport 'firebase/database'\n\nconst config = {\n\tdatabaseURL: \"https://hacker-news.firebaseio.com\"\n}\nconst version = \"/v0\"\n// const PAGE_LIMIT = 30\n\n\nfirebase.initializeApp(config)\nconst api = firebase.database().ref(version)\n\nexport function fetchItem(id, cb) {\n\titemRef(id).once('value', snapshot => cb(snapshot.val()))\n}\n\nexport function fetchItems(ids, cb) {\n\tlet items = []\n\tlet unsuccessful = 0\n\tids.forEach(id => {\n\t\tfetchItem(id, item => {\n\t\t\tif (item !== null) {\n\t\t\t\titems.push(item)\n\t\t\t} else {\n\t\t\t\tunsuccessful++\n\t\t\t}\n\t\t\tif (items.length >= ids.length - unsuccessful) {\n\t\t\t\tcb(items)\n\t\t\t}\n\t\t})\n\t})\n}\n\n\nexport function storiesRef(path) { return api.child(path) }\n\nexport function itemRef(id) { return api.child('item/' + id)}\n\n\n","import { useState, useEffect } from 'react'\nimport { itemRef, storiesRef } from '../firebase'\n\nexport function useItemSubscription(id) {\n\tconst [story, setStory] = useState({})\n\n\tuseEffect(() => {\n\t\tconst ref = itemRef(id)\n\t\tref.on('value', snapshot => {\n\t\t\t//console.log(snapshot.val())\n\t\t\tsetStory(snapshot.val())\n\t\t})\n\t\treturn () => {\n\t\t\tref.off()\n\t\t}\n\t}, [id])\n\treturn story\n}\n\nexport function useTopStories(filter) {\n\tconst [stories, setStories] = useState({})\n\tuseEffect(() => {\n\t\tconst ref = storiesRef(filter)\n\t\tref.on('value', snapshot => {\n\t\t\tconst ids = snapshot.val().slice(0, 30)\n\t\t\tsetStories(ids)\n\t\t})\n\t\treturn () => {\n\t\t\tref.off()\n\t\t}\n\t}, [filter])\n\treturn stories\n}\n","export function host (url) {\n  const host = url.replace(/^https?:\\/\\//, '').replace(/\\/.*$/, '')\n  const parts = host.split('.').slice(-3)\n  if (parts[0] === 'www') parts.shift()\n  return parts.join('.')\n}\nexport function timeAgo (time) {\n  const between = Date.now() / 1000 - Number(time)\n  if (between < 3600) {\n    return pluralize(~~(between / 60), ' minute')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' hour')\n  } else {\n    return pluralize(~~(between / 86400), ' day')\n  }\n}\n\nfunction pluralize (time, label) {\n  if (time === 1) {\n    return time + label\n  }\n  return time + label + 's'\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nimport { host, timeAgo } from '../helpers'\nimport { useItemSubscription } from '../hooks'\n\nconst StyledItemCard = styled.div`\n\tbackground-color: #fff;\n\tpadding: 20px 30px 20px 80px;\n\tline-height: 20px;\n\tposition: relative;\n\tborder-bottom: 1px solid #eee\n\n\t.score {\n\t\tcolor: #f60;\n\t\tposition: absolute;\n\t\tfont-size: 1.1em;\n\t\tfont-weight: 700;\n\t\ttop: 50%;\n\t\tleft: 0;\n\t\twidth: 80px;\n\t\tmargin-top: -10px;\n\t\ttext-align: center;\n\t\t}\n\t.meta, .host {\n\t\tfont-size: .85em;\n\t\tcolor: #828282;\n\t\ta {\n\t\t\tcolor: #828282;\n\t\t\ttext-decoration: underline;\n\t\t\t&:hover {\n\t\t\t\tcolor: #ff6600\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport default function NewsCard(id) {\n\tconst story = useItemSubscription(id)\n\treturn (\n\t\t<StyledItemCard key={id}>\n\t\t\t<span className=\"score\">\n\t\t\t{story.score}\n\t\t\t</span>\n\t\t\t<span className=\"title\">\n\t\t\t\t\t<a \n\t\t\t\t\t\thref={story.url}\n\t\t\t\t\t>{story.title}</a>\n\t\t\t\t\t{story.url ? <span className=\"host\">{` (${host(story.url)})`}</span> : null }\n\t\t\t\t</span>\n\t\t\t\t<br />\n\t\t\t<span\n\t\t\t\tclassName=\"meta\"\n\t\t\t>by {story.by} {timeAgo(story.time)} | <Link to={process.env.PUBLIC_URL + `item/${story.id}`}>{story.descendants ? `${story.descendants} comments`: \"discuss\"}</Link></span>\n\t\t</StyledItemCard>\n\t)\n}\n\n","import React from 'react'\n\nimport { useTopStories } from '../hooks'\nimport NewsCard from './NewsCard.jsx'\n\nfunction storyFilter(path) {\n\tswitch (path) {\n\t\tcase \"new\":\n\t\t\treturn \"newstories\"\n\t\tcase \"show\":\n\t\t\treturn \"showstories\"\n\t\tcase \"ask\":\n\t\t\treturn \"askstories\"\n\t\tcase \"jobs\":\n\t\t\treturn \"jobstories\"\n\t\tcase \"best\":\n\t\t\treturn \"beststories\"\n\t\tcase \"top\":\n\t\tdefault:\n\t\t\treturn \"topstories\"\n\t}\n}\n\nexport default function Home({match}) {\n\tconst path = match.path.substring(1)\n\tlet filter = storyFilter(path)\n\tconst stories = useTopStories(filter)\n\treturn (\n\t\t<div style={{margin: \"30px 0\"}}>\n\t\t\t{\n\t\t\t\tstories.length > 0 && stories.map(NewsCard)\n\t\t\t}\n\t\t</div>\n\t)\t\n}\n","import React, { useState } from 'react'\nimport renderHTML from 'react-render-html'\nimport styled from 'styled-components'\n\nimport { timeAgo } from '../helpers'\nimport { useItemSubscription } from '../hooks'\n\nconst CommentContainer = styled.div`\n  background-color: #fff;\n  border-top: 1px solid #eee;\n  position: relative;\n  .by, .text, .toggle {\n    font-size: .9em;\n\tmargin: 1em 0;\n  }\n  .by {\n    color: #828282;\n\ta {\n      color: #828282;\n      text-decoration: underline;\n\t}\n  }\n  .text {\n    overflow-wrap break-word\n\ta:hover {\n      color #ff6600\n\t}\n\tpre {\n\t  white-space pre-wrap\t\n\t}\n  }\n  .toggle {\n\tbackground-color: #fffbf2;\n\tpadding: .3em .5em;\n\tborder-radius: 4px;\n\t&.open {\n\t\tbackground-color: transparent;\n\t}\n  }\n`\nconst CommentChildren = styled.div`\n\t${props => props.open ? null : \"display: none;\"}\n\tmargin-left: 1.5em;\n`\n\nfunction Toggle({open, onClick, kidCount }) {\n\treturn (\n\t\t<span\n\t\t\tclassName={`toggle ${open ? \"open\" : null }`}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t{ open ? \"[-]\" : `[+${kidCount + 1}]` }\n\t\t</span>\n\t)\n}\n\n/*\n * Right now I think I'm running into issues where using hooks in my map is screwing something up\n * It might just be the conditional expression?\n * Nope! It was because I was calling the function? and not using a component?\n*/\nexport default function Comment({id}) {\n\tconst { by, time, text, kids = [], deleted, dead } = useItemSubscription(id)\n\tconst [showComments, setShowComments] = useState(true)\n\tfunction handleCommentToggle() {\n\t\tsetShowComments(!showComments)\n\t}\n\tif (deleted) {\n\t\tkids.length && console.log('Deleted has children!')\n\t\treturn (\n\t\t\t<CommentContainer>\n\t\t\t\t<div className=\"by\">[deleted]</div>\n\t\t\t</CommentContainer>\n\t\t)\n\t}\n\tif (dead) {\n\t\tkids.length && console.log('Dead has children!')\n\t\treturn (\n\t\t\tnull\n\t\t)\n\t}\n\treturn (\n\t\t<CommentContainer>\n\t\t\t<div className={`by toggle ${showComments ? \"open\" : null}`}>\n\t\t\t\t{by}\n\t\t\t\t{time && timeAgo(time)} ago\n\t\t\t\t<Toggle open={showComments} onClick={handleCommentToggle} kidCount={kids.length}/>\n\t\t\t</div>\n\t\t\t<CommentChildren open={showComments}>\n\t\t\t<div className=\"text\">\n\t\t\t{text && renderHTML(text)}\n\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tkids.length ? kids.map(id => <Comment key={id} id={id} />) : null\n\t\t\t\t}\n\t\t\t</CommentChildren>\n\t\t</CommentContainer>\n\t)\n}\n\n","import React from 'react'\nimport renderHTML from 'react-render-html'\nimport styled from 'styled-components'\n\nimport { timeAgo, host } from '../helpers'\nimport { useItemSubscription } from '../hooks'\nimport Comment from './Comment'\n\nconst ItemHeader = styled.div`\n  background-color: #fff;\n  padding: 1.8em 2em 1em;\n  box-shadow: 0 1px 2px rgba(0,0,0,.1);\n\n  a {\n\tcolor: #34495e;\n  }\n  h1 {\n    display: inline;\n    font-size: 1.5em;\n    margin: 0;\n    margin-right: .5em;\n  }\n  .host, .meta, .meta a {\n    color: #828282;\n  }\n  .meta a {\n\ttext-decoration: underline;\n\t}\n  @media (max-width: 600px) {\n\th1 {\n\t font-size: 1.25em;\n\t}\n  }\n`\n\nconst ItemComments = styled.div`\n\tbackground-color: #fff;\n\tmargin-top: 10px;\n\tpadding: 0 2em .5em;\n\n\t.comments-header {\n\t\tmargin: 0;\n\t\tfont-size: 1.1em;\n\t\tpadding: 1em 0;\n\t\tposition: relative;\n\t}\n\n`\n\nfunction LinkTitle(props) {\n\tconst { url, title } = props\n\tconsole.log(url)\n\treturn (\n\t\t<span>\n\t\t<a href={url}>\n\t\t\t<h1>{title}</h1>\n\t\t</a>\n\t\t<a className=\"host\" href={url}>\n\t\t\t({host(url)})\n\t\t</a> \n\t</span>\n\t)\n}\n\nexport default function Item({match}) {\n\tconst id = match.params.id\n\tconst { title, by, url, score, time, text, kids = [], descendants} = useItemSubscription(id)\n\treturn (\n\t\t<div>\n\t\t\t<ItemHeader>\n\t\t\t\t{\n\t\t\t\t\turl ? <LinkTitle url={url} title={title} /> :\n\t\t\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t}\n\t\t\t\t<p className=\"meta\">\n\t\t\t\t\t{score && score} points | by {by && by} {time && timeAgo(time)} ago\n\t\t\t\t</p>\n\t\t\t\t{\n\t\t\t\t\ttext ?\n\t\t\t\t\t\t<div className=\"ask-text\">{renderHTML(text)}</div> : null\n\t\t\t\t}\n\t\t\t</ItemHeader>\n\t\t\t<ItemComments> \n\t\t\t\t<div className=\"comments-header\">\n\t\t\t\t\t{descendants && descendants > 0 ? `${descendants} comments` : \"No comments\"}\n\t\t\t\t</div>\n\t\t\t{\n\t\t\t\tkids.length ? \n\t\t\t\t\tkids.map(id => <Comment key={id} id={id} />) : null\n\t\t\t}\n\t\t</ItemComments>\n\t</div>\n\t)\n}\n","import React from 'react'\n\nimport Home from './Home'\n\nexport default function Jobs(props) {\n\treturn <Home match={props.match}/>\n}\n\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport Header from './components/Header'\nimport Home from './components/Home'\nimport Item from './components/Item'\nimport Jobs from './components/Jobs'\n// import './App.css';\n\nconst NotFound = () => <h1>404</h1>\n\nconst ContentView = styled.div`\n\tmax-width: 800px;\n\tmargin: 0 auto;\n\tposition: relative;\n`\nclass App extends Component {\n  render() {\n    return (\n\t\t<Router>\n\t\t\t<div className=\"App\">\n\t\t<Header />\n\t\t<ContentView>\n\t\t\t<Switch>\n\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t<Route exact path=\"/top\" component={Home} />\n\t\t\t<Route exact path=\"/new\" component={Home} />\n\t\t\t<Route exact path=\"/show\" component={Home} />\n\t\t\t<Route exact path=\"/ask\" component={Home} />\n\t\t{/* \n\t\t\tadded Jobs component because using the same component for all routes never triggered an \"unmount\" \n\t\t\t(well I think this is the issue)\n\t\t\tand so it was expecting 30 hooks, but the jobs listing only has like a dozen items,\n\t\t\tso it had fewer hooks than expected?\n\t\t*/}\n\t\t\t<Route exact path=\"/jobs\" component={Jobs} />\n\t\t\t<Route exact path=\"/item/:id\" component={Item} />\n\t\t\t<Route component={NotFound} />\n\t\t\t</Switch>\n\t\t</ContentView>\n\t\t\t</div>\n\t\t</Router>\n    );\n  }\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAiRJREFUSA1j/A8EDAMAmAbATrCVLDCLP6Qawpg0pQVmnwebP2A+HjCL4UGNLXyZxEUYGIUlwVL/3z5n+PfyDTZlCDE2ZgZmFS0I//8/hr/XryLk0Fh4LWZgZmbgzV/AwMDExPDvwyuGT9VeDAy//qIZgeCye8YxcPrkgQW+75qN12K8Qf3v2UuG7/uAFgMBk4AYA5tHDJiNjWAU4mPg8MgES/37/Jbh56ZZ2JTBxfBaDFL1a+MMhn9f3oM1cHpkMTAK8sE1IzM4wioZGFlYwULfljcwMPz8gyyNwSZo8f8fvxm+rWgCa2RkZWPgCC/HMIRZVY2B3dgDLP779mmGP6ePYKhBFyBoMUjDn5MHGH7fg+Q/dmMvYAJSQZjDxMjAGQ1xGMO/fwzfF9cg5PCwiLIYpB9sILR05YwCWsTICDaW1dqdgUVaHcwGpYd/z1+B2YQIoi3+9+QZw48Di8HmschqMrBauzIwcrAxcAZDgv7f53cMP4HpgVhAtMUgA3+un8rw7+sHsNmcwZUMHJFlDEzcAmD+t5XAUACmB2IBSRb///6L4fvqVrDZTDwCDOxWwWD277vngOngILF2QvSTpBqo+PexvQx/HlxGaAPG+/fF1Qg+kSySfAw2E2TRuk648T/PbGH49/QFnE8sg3SLgSb///oRbv5/YKIiB5BlMTkWoesZtRg9RGjGH3lBjb8FgiOg/z16wkBpq3TkBfWA+ZhxxPWdACF6m6mcsEGuAAAAAElFTkSuQmCC\""],"sourceRoot":""}